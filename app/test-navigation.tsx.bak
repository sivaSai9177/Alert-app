import React from 'react';
import { View, Text, StyleSheet, Platform } from 'react-native';
import { router } from 'expo-router';
import { Button } from '@/components/universal/Button';
import { useTheme } from '@/lib/theme/provider';

export default function TestNavigationScreen() {
  const theme = useTheme();
// TODO: Replace with structured logging - console.log('[TestNavigation] Rendering');
  
  React.useEffect(() => {
// TODO: Replace with structured logging - console.log('[TestNavigation] Component mounted');
// TODO: Replace with structured logging - console.log('[TestNavigation] Router available:', !!router);
// TODO: Replace with structured logging - console.log('[TestNavigation] Platform:', Platform.OS);
    
    // Test immediate navigation after a short delay
    const timer = setTimeout(() => {
// TODO: Replace with structured logging - console.log('[TestNavigation] Attempting to navigate to login...');
      router.replace('/(auth)/login');
    }, 2000);
    
    return () => {
// TODO: Replace with structured logging - console.log('[TestNavigation] Component unmounting');
      clearTimeout(timer);
    };
  }, []);
  
  return (
    <View style={[styles.container, { backgroundColor: theme.muted }]}>
      <Text style={styles.title}>Test Navigation Screen</Text>
      <Text style={[styles.info, { color: theme.mutedForeground }]}>Will navigate to login in 2 seconds...</Text>
      <Text style={[styles.info, { color: theme.mutedForeground }]}>Platform: {Platform.OS}</Text>
      
      <View style={{ marginTop: 20 }}>
        <Button 
          label="Navigate to Login Now" 
          onPress={() => {
// TODO: Replace with structured logging - console.log('[TestNavigation] Manual navigation to login');
            router.replace('/(auth)/login');
          }}
        />
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    padding: 20,
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    marginBottom: 10,
  },
  info: {
    fontSize: 16,
    marginBottom: 5,
  },
});